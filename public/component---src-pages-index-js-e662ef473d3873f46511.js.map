{"version":3,"sources":["webpack://jotter/./src/pages/index.js","webpack://jotter/./src/assets/jotter-logo.svg"],"names":["Wrapper","styled","Logo","Loading","Greeting","useAuth0","user","isAuthenticated","isLoading","useState","libraryBooks","setLibraryBooks","useEffect","getLibrary","nickname","then","response","catch","e","console","log","Layout","map","book","BookItem","key","bookTitle","cover","isLink","shouldHover","title","author","join","date","year","src","LoadingIcon","alt","className"],"mappings":"gQAWMA,EAAUC,SAAH,+IAQPC,EAAOD,SAAH,yCAIJE,EAAUF,SAAH,+NASPG,EAAWH,QAAH,mLAmEd,EAzDkB,WAChB,OAA6CI,UAArCC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,gBAAiBC,EAA/B,EAA+BA,UAC/B,GAAwCC,cAAS,IAA1CC,EAAP,KAAqBC,EAArB,KAcA,OAZAC,gBAAU,WACJN,IACFO,OAAWP,EAAKQ,UACbC,MAAK,SAACC,GACLL,EAAgBK,MAEjBC,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAGjB,CAACZ,IAEAC,IAAoBC,EAEpB,gBAACa,EAAA,EAAD,KACE,2BACE,gBAAC,IAAD,gBACA,gBAAC,IAAD,qCAEF,gBAAC,IAAD,KACGX,EAAaY,KAAI,SAACC,GACjB,OACE,gBAACC,EAAA,EAAD,CACEC,IAAKF,EAAKG,UAAUH,EAAKI,MACzBC,QAAQ,EACRC,aAAa,EACbF,MAAOJ,EAAKI,MACZG,MAAOP,EAAKG,UACZK,OAAQR,EAAKQ,OAAOC,KAAK,MACzBC,KAAMV,EAAKW,YAOb3B,GAAoBC,EAU5B,gBAACR,EAAD,KACE,gBAACG,EAAD,CAASgC,IAAKC,IAAaC,IAAI,eAAeC,UAAU,cAT1D,gBAACtC,EAAD,KACE,gBAACE,EAAD,CAAMiC,ICrFd,q7JDqF+BE,IAAI,gBAC3B,gBAACjC,EAAD,uDACA,gBAAC,KAAD","file":"component---src-pages-index-js-e662ef473d3873f46511.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Layout from \"../components/Layout\";\nimport JotterLogo from \"../assets/jotter-logo.svg\";\nimport LoadingIcon from \"../assets/loading.svg\";\nimport { LoginButton } from \"../components/Buttons\";\nimport { useAuth0 } from \"../services/auth\";\nimport { Heading, SubHeading } from \"../components/Headings\";\nimport BookItem, { BookList } from \"../components/BookItem\";\nimport { getLibrary } from \"../services/realm/API\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n`;\n\nconst Logo = styled.img`\n  width: 12rem;\n`;\n\nconst Loading = styled.img`\n  width: 8rem;\n  margin: 1rem auto 1rem auto;\n  -webkit-animation: spin 4s linear infinite;\n  -moz-animation: spin 4s linear infinite;\n  animation: spin 4s linear infinite;\n  min-height: 60vh;\n`;\n\nconst Greeting = styled.h1`\n  margin-top: 2rem;\n  margin-bottom: 2rem;\n  max-width: 25rem;\n  font-size: 1.5rem;\n  font-weight: 500;\n  color: var(--gray);\n  text-align: center;\n`;\n\nconst IndexPage = () => {\n  const { user, isAuthenticated, isLoading } = useAuth0();\n  const [libraryBooks, setLibraryBooks] = useState([]);\n\n  useEffect(() => {\n    if (user) {\n      getLibrary(user.nickname)\n        .then((response) => {\n          setLibraryBooks(response);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    }\n  }, [user]);\n\n  if (isAuthenticated && !isLoading) {\n    return (\n      <Layout>\n        <div>\n          <Heading>Library</Heading>\n          <SubHeading>All your books in one place</SubHeading>\n        </div>\n        <BookList>\n          {libraryBooks.map((book) => {\n            return (\n              <BookItem\n                key={book.bookTitle+book.cover}\n                isLink={true}\n                shouldHover={true}\n                cover={book.cover}\n                title={book.bookTitle}\n                author={book.author.join(\", \")}\n                date={book.year}\n              />\n            );\n          })}\n        </BookList>\n      </Layout>\n    );\n  } else if (!isAuthenticated && !isLoading) {\n    return (\n      <Wrapper>\n        <Logo src={JotterLogo} alt=\"Jotter logo\" />\n        <Greeting>Write and keep notes on your favourite books. </Greeting>\n        <LoginButton />\n      </Wrapper>\n    );\n  } else {\n    return (\n      <Wrapper>\n        <Loading src={LoadingIcon} alt=\"Loading icon\" className=\"rotating\" />\n      </Wrapper>\n    );\n  }\n};\n\nexport default IndexPage;\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCA2NCAyMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuMDc1IDE1LjI1QzQuODI1IDE1LjI1IDMuODE2NjcgMTUuMDMzMyAzLjA1IDE0LjZDMi4yODMzMyAxNC4xNSAxLjcyNSAxMy41NDE3IDEuMzc1IDEyLjc3NUMxLjA0MTY3IDEyLjAwODMgMC44NzUgMTEuMTI1IDAuODc1IDEwLjEyNUg0LjE3NUM0LjE3NSAxMC42OTE3IDQuMjkxNjcgMTEuMTkxNyA0LjUyNSAxMS42MjVDNC43NzUgMTIuMDQxNyA1LjI1IDEyLjI1IDUuOTUgMTIuMjVDNi41NSAxMi4yNSA2Ljk5MTY3IDEyLjA2NjcgNy4yNzUgMTEuN0M3LjU1ODMzIDExLjMxNjcgNy43IDEwLjU2NjcgNy43IDkuNDVWMy41NzVINC43NVYwLjkyNDk5OUgxMS4yVjguODVDMTEuMiA5LjgxNjY3IDExLjEzMzMgMTAuNyAxMSAxMS41QzEwLjg4MzMgMTIuMjgzMyAxMC42NSAxMi45NTgzIDEwLjMgMTMuNTI1QzkuOTUgMTQuMDc1IDkuNDMzMzMgMTQuNSA4Ljc1IDE0LjhDOC4wODMzMyAxNS4xIDcuMTkxNjcgMTUuMjUgNi4wNzUgMTUuMjVaTTE4LjY3MDMgMTUuMjVDMTcuNDUzNiAxNS4yNSAxNi40MzcgMTUuMDI1IDE1LjYyMDMgMTQuNTc1QzE0LjgwMzYgMTQuMTA4MyAxNC4xOTUzIDEzLjQ3NSAxMy43OTUzIDEyLjY3NUMxMy4zOTUzIDExLjg3NSAxMy4xOTUzIDEwLjk2NjcgMTMuMTk1MyA5Ljk1QzEzLjE3ODYgOC45MTY2NyAxMy4zNzAzIDguMDA4MzMgMTMuNzcwMyA3LjIyNUMxNC4xNzAzIDYuNDI1IDE0Ljc3ODYgNS43OTE2NyAxNS41OTUzIDUuMzI1QzE2LjQyODYgNC44NTgzMyAxNy40NTM2IDQuNjI1IDE4LjY3MDMgNC42MjVDMjAuNDUzNiA0LjYyNSAyMS44MDM2IDUuMTE2NjcgMjIuNzIwMyA2LjFDMjMuNjUzNiA3LjA2NjY3IDI0LjEyMDMgOC4zNSAyNC4xMjAzIDkuOTVDMjQuMTIwMyAxMC45NSAyMy45MjAzIDExLjg1IDIzLjUyMDMgMTIuNjVDMjMuMTM3IDEzLjQ1IDIyLjU0NTMgMTQuMDgzMyAyMS43NDUzIDE0LjU1QzIwLjk0NTMgMTUuMDE2NyAxOS45MjAzIDE1LjI1IDE4LjY3MDMgMTUuMjVaTTE4LjY3MDMgMTIuMzVDMTkuMjg3IDEyLjM1IDE5Ljc0NTMgMTIuMjI1IDIwLjA0NTMgMTEuOTc1QzIwLjM0NTMgMTEuNzI1IDIwLjUzNyAxMS40MDgzIDIwLjYyMDMgMTEuMDI1QzIwLjcyMDMgMTAuNjI1IDIwLjc3MDMgMTAuMjI1IDIwLjc3MDMgOS44MjVDMjAuNzcwMyA5LjQwODMzIDIwLjcyMDMgOS4wMDgzMyAyMC42MjAzIDguNjI1QzIwLjUzNyA4LjI0MTY3IDIwLjM0NTMgNy45MjUgMjAuMDQ1MyA3LjY3NUMxOS43NDUzIDcuNDA4MzMgMTkuMjg3IDcuMjc1IDE4LjY3MDMgNy4yNzVDMTguMDUzNiA3LjI3NSAxNy41ODcgNy40MDgzMyAxNy4yNzAzIDcuNjc1QzE2Ljk3MDMgNy45MjUgMTYuNzcwMyA4LjI0MTY3IDE2LjY3MDMgOC42MjVDMTYuNTg3IDkuMDA4MzMgMTYuNTQ1MyA5LjQwODMzIDE2LjU0NTMgOS44MjVDMTYuNTQ1MyAxMC4yMjUgMTYuNTg3IDEwLjYyNSAxNi42NzAzIDExLjAyNUMxNi43NzAzIDExLjQwODMgMTYuOTcwMyAxMS43MjUgMTcuMjcwMyAxMS45NzVDMTcuNTg3IDEyLjIyNSAxOC4wNTM2IDEyLjM1IDE4LjY3MDMgMTIuMzVaTTI5Ljk1MjkgMTVDMjguOTUyOSAxNSAyOC4xNjEzIDE0Ljc2NjcgMjcuNTc3OSAxNC4zQzI2Ljk5NDYgMTMuODMzMyAyNi43MDI5IDEyLjk4MzMgMjYuNzAyOSAxMS43NVY3LjAyNUgyNS4yNTI5VjQuNjVDMjUuNjUyOSA0LjY1IDI1Ljk5NDYgNC41OTE2NyAyNi4yNzc5IDQuNDc1QzI2LjU3NzkgNC4zNTgzMyAyNi44MDI5IDQuMTE2NjcgMjYuOTUyOSAzLjc1QzI3LjExOTYgMy4zNjY2NyAyNy4yMDI5IDIuNzkxNjcgMjcuMjAyOSAyLjAyNUgyOS45NTI5VjQuNjVIMzIuMjc3OVY3LjAyNUgyOS45NTI5VjEyLjMyNUgzMi4zNTI5VjE1SDI5Ljk1MjlaTTM4LjMwMjUgMTVDMzcuMzAyNSAxNSAzNi41MTA5IDE0Ljc2NjcgMzUuOTI3NSAxNC4zQzM1LjM0NDIgMTMuODMzMyAzNS4wNTI1IDEyLjk4MzMgMzUuMDUyNSAxMS43NVY3LjAyNUgzMy42MDI1VjQuNjVDMzQuMDAyNSA0LjY1IDM0LjM0NDIgNC41OTE2NyAzNC42Mjc1IDQuNDc1QzM0LjkyNzUgNC4zNTgzMyAzNS4xNTI1IDQuMTE2NjcgMzUuMzAyNSAzLjc1QzM1LjQ2OTIgMy4zNjY2NyAzNS41NTI1IDIuNzkxNjcgMzUuNTUyNSAyLjAyNUgzOC4zMDI1VjQuNjVINDAuNjI3NVY3LjAyNUgzOC4zMDI1VjEyLjMyNUg0MC43MDI1VjE1SDM4LjMwMjVaTTQ3LjQ1MjEgMTUuMjVDNDYuMjAyMSAxNS4yNSA0NS4xOTM4IDE1IDQ0LjQyNzEgMTQuNUM0My42NjA1IDE0IDQzLjA5MzggMTMuMzU4MyA0Mi43MjcxIDEyLjU3NUM0Mi4zNzcxIDExLjc3NSA0Mi4xODU1IDEwLjk0MTcgNDIuMTUyMSAxMC4wNzVDNDIuMTE4OCA4Ljk0MTY3IDQyLjMxODggNy45NjY2NyA0Mi43NTIxIDcuMTVDNDMuMTg1NSA2LjMxNjY3IDQzLjc5MzggNS42ODMzMyA0NC41NzcxIDUuMjVDNDUuMzc3MSA0LjggNDYuMjkzOCA0LjU3NSA0Ny4zMjcxIDQuNTc1QzQ4LjMxMDUgNC41NzUgNDkuMTg1NSA0Ljc4MzMzIDQ5Ljk1MjEgNS4yQzUwLjczNTUgNS42IDUxLjM0MzggNi4xNzUgNTEuNzc3MSA2LjkyNUM1Mi4yMjcxIDcuNjc1IDUyLjQ1MjEgOC41NzUgNTIuNDUyMSA5LjYyNVYxMC4yNzVINDUuNDUyMUM0NS40NTIxIDExLjAwODMgNDUuNjI3MSAxMS41NDE3IDQ1Ljk3NzEgMTEuODc1QzQ2LjM0MzggMTIuMjA4MyA0Ni44MTA1IDEyLjM3NSA0Ny4zNzcxIDEyLjM3NUM0Ny44NjA1IDEyLjM3NSA0OC4yNDM4IDEyLjI2NjcgNDguNTI3MSAxMi4wNUM0OC44MjcxIDExLjgxNjcgNDkuMDAyMSAxMS41MjUgNDkuMDUyMSAxMS4xNzVINTIuNDI3MUM1Mi4zNzcxIDExLjkwODMgNTIuMTYwNSAxMi41OTE3IDUxLjc3NzEgMTMuMjI1QzUxLjM5MzggMTMuODQxNyA1MC44NDM4IDE0LjMzMzMgNTAuMTI3MSAxNC43QzQ5LjQxMDUgMTUuMDY2NyA0OC41MTg4IDE1LjI1IDQ3LjQ1MjEgMTUuMjVaTTQ1LjUwMjEgOC44NzVINDguOTUyMUM0OC45NTIxIDguODc1IDQ4Ljk0MzggOC44IDQ4LjkyNzEgOC42NUM0OC45MjcxIDguNSA0OC44NzcxIDguMzI1IDQ4Ljc3NzEgOC4xMjVDNDguNjc3MSA3LjkyNSA0OC41MTA1IDcuNzUgNDguMjc3MSA3LjZDNDguMDQzOCA3LjQ1IDQ3LjcwMjEgNy4zNzUgNDcuMjUyMSA3LjM3NUM0Ni44MDIxIDcuMzc1IDQ2LjQ1MjEgNy40NSA0Ni4yMDIxIDcuNkM0NS45NTIxIDcuNzUgNDUuNzc3MSA3LjkyNSA0NS42NzcxIDguMTI1QzQ1LjU5MzggOC4zMjUgNDUuNTQzOCA4LjUgNDUuNTI3MSA4LjY1QzQ1LjUxMDUgOC44IDQ1LjUwMjEgOC44NzUgNDUuNTAyMSA4Ljg3NVpNNTQuMjkzIDE1VjQuNjVINTcuNTkzTDU3LjgxOCA3LjZDNTcuOTE4IDcuMTY2NjcgNTguMTA5NiA2LjcyNSA1OC4zOTMgNi4yNzVDNTguNjc2MyA1LjgwODMzIDU5LjA4NDYgNS40MjUgNTkuNjE4IDUuMTI1QzYwLjE1MTMgNC44MDgzMyA2MC44NTEzIDQuNjUgNjEuNzE4IDQuNjVINjEuOTQzVjguNTI1SDYxLjY5M0M2MC44NTk2IDguNTI1IDYwLjE1MTMgOC41NzUgNTkuNTY4IDguNjc1QzU4Ljk4NDYgOC43NzUgNTguNTQzIDguOTkxNjcgNTguMjQzIDkuMzI1QzU3Ljk0MyA5LjY0MTY3IDU3Ljc5MyAxMC4xNTgzIDU3Ljc5MyAxMC44NzVWMTVINTQuMjkzWiIgZmlsbD0iIzIxMjEzOCIvPgo8cGF0aCBkPSJNMS41IDE5LjVMNTggMTdWMTguNUwxLjUgMjFWMTkuNVoiIGZpbGw9IiMyMTIxMzgiIHN0cm9rZT0iIzIxMjEzOCIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4KPC9zdmc+Cg==\""],"sourceRoot":""}